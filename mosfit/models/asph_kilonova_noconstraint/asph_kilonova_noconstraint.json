{
    "@references":[
        {
            "bibcode": "2017arXiv170708132V"
        },
        {
            "bibcode": "2017arXiv171011576V"
        },
	{
            "name": "Nicholl et al., 2021"
        }
    ],
    "ebv":{
        "kind":"parameter",
        "value":0.0,
        "class":"parameter",
        "inputs":[
            "transient"
        ],
        "latex":"E({\\rm B} - {\\rm V})"
    },
    "frad":{
        "kind":"parameter",
        "value":0.999,
        "class":"parameter",
        "latex":"f_{\\rm Ni}"
    },
    "nhhost":{
        "kind":"parameter",
        "value":1.0e14,
        "class":"parameter",
        "latex":"n_{\\rm H,host}",
        "derived_keys":"avhost"
    },
    "texplosion":{
        "kind":"parameter",
        "value":0.0,
        "class":"parameter",
        "latex":"t_{\\rm exp}\\,{\\rm (days)}",
        "requests":{
            "min_times": "transient"
        }
    },
    "cos_theta":{
        "kind":"parameter",
        "value":0.5,
        "class":"parameter",
        "latex":"\\cos\\theta"
    },
    "cos_theta_open":{
        "kind":"parameter",
        "value":0.707107,
        "class":"parameter",
        "latex":"\\cos\\theta_{\\rm open}"
    },
    "temperature_red":{
        "kind":"parameter",
        "value":100,
        "class":"parameter",
        "latex":"T_{\\rm minr}\\,{\\rm (K)}"
    },
    "temperature_blue":{
        "kind":"parameter",
        "value":100,
        "class":"parameter",
        "latex":"T_{\\rm minb}\\,{\\rm (K)}"
    },
    "temperature_purple":{
        "kind":"parameter",
        "value":100,
        "class":"parameter",
        "latex":"T_{\\rm minp}\\,{\\rm (K)}"
    },
    "kappa_red":{
        "kind":"parameter",
        "value":10.0,
        "class":"parameter",
        "latex":"\\kappa\\,({\\rm cm}^{2}\\,{\\rm g}^{-1})"
    },
    "kappa_blue":{
        "kind":"parameter",
        "value":0.5,
        "class":"parameter",
        "latex":"\\kappa\\,({\\rm cm}^{2}\\,{\\rm g}^{-1})"
    },
    "kappa_purple":{
        "kind":"parameter",
        "value":3.0,
        "class":"parameter",
        "latex":"\\kappa\\,({\\rm cm}^{2}\\,{\\rm g}^{-1})"
    },
    "kappagamma":{
        "kind":"parameter",
        "value":100.0,
        "class":"parameter",
        "latex":"\\kappa_\\gamma\\,({\\rm cm}^{2}\\,{\\rm g}^{-1})"
    },
    "mejecta_blue":{
        "kind":"parameter",
        "value":1.0,
        "class":"parameter",
        "latex":"M_{\\rm ejb}\\,(M_\\odot)"
    },
    "mejecta_red":{
        "kind":"parameter",
        "value":1.0,
        "class":"parameter",
        "latex":"M_{\\rm ejr}\\,(M_\\odot)"
    },
    "mejecta_purple":{
        "kind":"parameter",
        "value":1.0,
        "class":"parameter",
        "latex":"M_{\\rm ejp}\\,(M_\\odot)"
    },
    "vejecta_blue":{
        "kind":"parameter",
        "value":1.0e5,
        "class":"parameter",
        "latex":"v_{\\rm ejb}\\,({\\rm km\\,s}^{-1})"
    },
    "vejecta_red":{
        "kind":"parameter",
        "value":1.0e5,
        "class":"parameter",
        "latex":"v_{\\rm ejr}\\,({\\rm km\\,s}^{-1})"
    },
    "vejecta_purple":{
        "kind":"parameter",
        "value":1.0e5,
        "class":"parameter",
        "latex":"v_{\\rm ejp}\\,({\\rm km\\,s}^{-1})"
    },
    "aspherical_kilonova":{
        "kind":"energetic",
        "inputs":[
            "cos_theta",
            "cos_theta_open"
        ]
    },
    "blackbody":{
        "kind":"sed",
        "inputs":[
            "texplosion",
            "redshift",
            "temperature_floor1"
        ],
        "requests":{
            "band_wave_ranges": "photometry"
        },
        "replacements":{
            "luminosities":"luminosities_blue"
        }
    },
    "rprocess":{
        "kind":"engine",
        "inputs":[
           "densetimes",
            "mejecta_blue",
            "frad",
            "texplosion",
            "vejecta_blue"
        ],
        "replacements":{
            "mejecta":"mejecta_blue",
            "luminosities":"luminosities_blue",
            "vejecta":"vejecta_blue",
	    "kappa":"kappa_blue"
        }
    },
    "diffusion_aspherical":{
        "kind":"transform",
        "inputs":[
            "rprocess",
            "aspherical_kilonova",
            "kappa_blue",
            "kappagamma",
            "texplosion",
	    "mejecta_blue",
	    "vejecta_blue"
        ],
        "replacements":{
            "luminosities":"luminosities_blue",
            "mejecta":"mejecta_blue",
            "vejecta":"vejecta_blue",
            "kappa":"kappa_blue",
            "area_proj":"area_blue",
            "area_ref":"area_blue_ref"
        }
    },
    "temperature_floor1":{
        "kind":"photosphere",
        "class":"temperature_floor",
        "inputs":[
            "texplosion",
            "temperature_blue",
            "diffusion_aspherical"
        ],
        "replacements":{
            "luminosities": "luminosities_blue",
            "vejecta":"vejecta_blue",
            "mejecta":"mejecta_blue",
            "kappa":"kappa_blue",
	    "temperature":"temperature_blue",
            "temperature_bluephot":"temperaturephot"
        }
    },
    "blackbody1":{
        "kind":"sed",
        "class":"blackbody",
        "inputs":[
            "texplosion",
            "redshift",
            "temperature_floor1",
            "blackbody"
        ],
        "requests":{
            "band_wave_ranges": "photometry",
            "seds":"blackbody"
        },
        "replacements":{
            "luminosities":"luminosities_blue"
        }
    },
    "rprocess2":{
        "kind":"engine",
        "class":"rprocess",
        "inputs":[
            "densetimes",
            "frad",
            "texplosion",
            "mejecta_red",
	    "vejecta_red",
            "kappa_red"
        ],
        "replacements":{
            "mejecta":"mejecta_red",
            "luminosities":"luminosities_red",
            "vejecta":"vejecta_red",
	    "kappa":"kappa_red"
        }
    },
    "diffusion2":{
        "kind":"transform",
        "class":"diffusion_aspherical",
        "inputs":[
            "rprocess2",
            "aspherical_kilonova",
            "kappa_red",
            "kappagamma",
            "texplosion",
	    "mejecta_red",
	    "vejecta_red"
        ],
        "replacements":{
            "luminosities":"luminosities_red",
            "mejecta":"mejecta_red",
            "vejecta":"vejecta_red",
            "kappa":"kappa_red",
            "area_proj":"area_red",
            "area_ref":"area_red_ref"
        }
    },
    "temperature_floor2":{
        "kind":"photosphere",
        "class":"temperature_floor",
        "inputs":[
            "texplosion",
            "temperature_red",
            "diffusion2"
        ],
        "replacements":{
            "luminosities": "luminosities_red",
            "vejecta":"vejecta_red",
            "mejecta":"mejecta_red",
            "kappa":"kappa_red",
	    "temperature":"temperature_red",
            "temperature_redphot":"temperaturephot"
        }
    },
    "blackbody2":{
        "kind":"sed",
        "class":"blackbody",
        "inputs":[
            "texplosion",
            "redshift",
            "temperature_floor2",
            "blackbody1"
        ],
        "requests":{
            "band_wave_ranges": "photometry",
            "seds":"blackbody1"
        },
        "replacements":{
            "luminosities":"luminosities_red"
        }
    },
    "rprocess3":{
        "kind":"engine",
        "class":"rprocess",
        "inputs":[
            "densetimes",
            "frad",
            "texplosion",
	    "mejecta_purple",
	    "vejecta_purple"
        ],
        "replacements":{
            "mejecta":"mejecta_purple",
            "luminosities":"luminosities_purple",
            "vejecta":"vejecta_purple",
            "kappa":"kappa_purple"
        }
    },
    "diffusion3":{
        "kind":"transform",
        "class":"diffusion_aspherical",
        "inputs":[
            "rprocess3",
            "aspherical_kilonova",
	    "kappa_purple",
            "kappagamma",
            "texplosion",
	    "mejecta_purple",
	    "vejecta_purple"
        ],
        "replacements":{
            "luminosities":"luminosities_purple",
            "mejecta":"mejecta_purple",
            "vejecta":"vejecta_purple",
            "kappa":"kappa_purple",
	    "kappa_purplegamma":"kappagamma",
            "area_proj":"area_blue",
            "area_ref":"area_blue_ref"
        }
    },
    "temperature_floor3":{
        "kind":"photosphere",
        "class":"temperature_floor",
        "inputs":[
            "texplosion",
            "temperature_purple",
            "diffusion3"
        ],
        "replacements":{
            "luminosities": "luminosities_purple",
            "vejecta":"vejecta_purple",
            "mejecta":"mejecta_purple",
            "kappa":"kappa_purple",
	    "temperature":"temperature_purple",
            "temperature_purplephot":"temperaturephot"
        }
    },
    "blackbody3":{
        "kind":"sed",
        "class":"blackbody",
        "inputs":[
            "texplosion",
            "redshift",
            "temperature_floor3",
            "blackbody2"
        ],
        "requests":{
            "band_wave_ranges": "photometry",
            "seds":"blackbody2"
        },
        "replacements":{
            "luminosities":"luminosities_purple"
        }
    },
    "photometry":{
        "kind":"observable",
        "supports":[
            "ultraviolet",
            "optical",
            "infrared"
        ],
        "inputs":[
            "blackbody3",
            "lumdist"
        ],
        "replacements":{
            "luminosities":"luminosities_purple"
        }
    }
}
